{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/ykh/Desktop/MyApp-wx/pages/explore/index.vue?1bbb","webpack:///C:/Users/ykh/Desktop/MyApp-wx/pages/explore/index.vue?9a96","webpack:///C:/Users/ykh/Desktop/MyApp-wx/pages/explore/index.vue?ca3c","uni-app:///pages/explore/index.vue","webpack:///C:/Users/ykh/Desktop/MyApp-wx/pages/explore/index.vue?59df","webpack:///C:/Users/ykh/Desktop/MyApp-wx/pages/explore/index.vue?0dbf"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","AiAssistant","CustomNavBar","data","loading","currentPage","pageSize","totalItems","reviews","selectedCategory","categories","searchText","featuredShops","id","name","image","rating","description","shops","computed","hasMore","onLoad","methods","loadShopReviews","current","size","params","uni","url","method","header","success","console","title","icon","fail","complete","loadMore","searchShops","selectCategory","viewShopDetail","viewReviewDetail","goBack","delta","onPullDownRefresh","onReachBottom"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AAC6K;AAC7K,gBAAgB,iLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAopB,CAAgB,moBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACoJxqB;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC,gBACA;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAC;MACA,EACA;MACAC;IACA;EACA;;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACA;IACAC;MAAA;MAAA;MACA;QACA;QACA;MACA;MAEA;;MAEA;MACA;QACAC;QACAC;MACA;;MAEA;MACA;QACAC;MACA;;MAEA;MACAC;QACAC;QACAC;QACA1B;QACA2B;UACA;QACA;QACAC;UACAC;UACA;YACA;YACA;YACA;cACA;YACA;cACA;YACA;YACA;YACA;UACA;YACAL;cACAM;cACAC;YACA;UACA;QACA;QACAC;UACAH;UACAL;YACAM;YACAC;UACA;QACA;QACAE;UACA;UACA;UACAT;QACA;MACA;IACA;IAEA;IACAU;MACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;IACA;IAEA;IACAC;MACAb;QACAC;MACA;IACA;IAEA;IACAa;MACAd;QACAC;MACA;IACA;IAEAc;MACAf;QACAgB;QACAR;UACA;UACAR;YACAC;UACA;QACA;MACA;IACA;IAEA;IACAgB;MACA;IACA;IAEA;IACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACjUA;AAAA;AAAA;AAAA;AAA27B,CAAgB,g4BAAG,EAAC,C;;;;;;;;;;;ACA/8B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/explore/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/explore/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=5124efad&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/explore/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=5124efad&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.featuredShops, function (shop, index) {\n    var $orig = _vm.__get_orig(shop)\n    var g0 = Math.floor(shop.rating)\n    return {\n      $orig: $orig,\n      g0: g0,\n    }\n  })\n  var g1 = _vm.loading && _vm.reviews.length === 0\n  var g2 = !g1 ? _vm.reviews.length : null\n  var l2 =\n    !g1 && !(g2 === 0)\n      ? _vm.__map(_vm.reviews, function (review, index) {\n          var $orig = _vm.__get_orig(review)\n          var g3 = review.createTime\n            ? new Date(review.createTime).toLocaleString()\n            : null\n          var l1 = review.images ? review.images.split(\",\") : null\n          var g4 = Math.floor(review.rating || 0)\n          return {\n            $orig: $orig,\n            g3: g3,\n            l1: l1,\n            g4: g4,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        g1: g1,\n        g2: g2,\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\t\t<!-- 使用自定义导航栏组件 -->\n\t\t<custom-nav-bar title=\"探店寻宝\" subtitle=\"美食与商店探索\" :show-back=\"true\"></custom-nav-bar>\n\t\t\n\t\t<!-- 添加明显的返回按钮 -->\n\t\t<view class=\"back-button\" @click=\"goBack\">\n\t\t\t<text class=\"back-arrow\">←</text>\n\t\t\t<text class=\"back-text\">返回</text>\n\t\t</view>\n\t\t\n\t\t<view class=\"header\">\n\t\t\t<view class=\"search-box\">\n\t\t\t\t<view class=\"search-input-wrapper\">\n\t\t\t\t\t<image src=\"https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg\" class=\"search-icon\"></image>\n\t\t\t\t\t<input class=\"search-input\" type=\"text\" placeholder=\"搜索店铺或美食\" v-model=\"searchText\" @confirm=\"searchShops\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 分类标签 -->\n\t\t<view class=\"categories\">\n\t\t\t<scroll-view scroll-x class=\"categories-scroll\" show-scrollbar=\"false\">\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"(category, index) in categories\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"category-item\" \n\t\t\t\t\t:class=\"{ active: selectedCategory === category }\"\n\t\t\t\t\t@click=\"selectCategory(category)\"\n\t\t\t\t>\n\t\t\t\t\t<text>{{category}}</text>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\t\t\n\t\t<!-- 推荐店铺 -->\n\t\t<view class=\"section\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<image class=\"section-title-decoration\" src=\"https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"section-title\">精选推荐</text>\n\t\t\t\t<image class=\"section-title-decoration\" src=\"https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg\" mode=\"aspectFit\"></image>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"featured-shops\">\n\t\t\t\t<scroll-view scroll-x class=\"featured-scroll\" show-scrollbar=\"false\">\n\t\t\t\t\t<view class=\"featured-shop-card\" v-for=\"(shop, index) in featuredShops\" :key=\"index\" @click=\"viewShopDetail(shop.id)\">\n\t\t\t\t\t\t<image class=\"featured-shop-image\" :src=\"shop.image\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t<view class=\"featured-shop-info\">\n\t\t\t\t\t\t\t<text class=\"featured-shop-name\">{{shop.name}}</text>\n\t\t\t\t\t\t\t<view class=\"featured-shop-rating\">\n\t\t\t\t\t\t\t\t<text class=\"rating-score\">{{shop.rating}}</text>\n\t\t\t\t\t\t\t\t<view class=\"rating-stars\">\n\t\t\t\t\t\t\t\t\t<text v-for=\"n in 5\" :key=\"n\" class=\"star\" :class=\"{ active: n <= Math.floor(shop.rating) }\">★</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text class=\"featured-shop-desc\">{{shop.description}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 探店列表 -->\n\t\t<view class=\"section\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<image class=\"section-title-decoration\" src=\"https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"section-title\">探店评论</text>\n\t\t\t\t<image class=\"section-title-decoration\" src=\"https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg\" mode=\"aspectFit\"></image>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 显示加载中状态 -->\n\t\t\t<view v-if=\"loading && reviews.length === 0\" class=\"loading-container\">\n\t\t\t\t<view class=\"loading-spinner\"></view>\n\t\t\t\t<text class=\"loading-text\">加载中...</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 显示无数据状态 -->\n\t\t\t<view v-else-if=\"reviews.length === 0\" class=\"empty-container\">\n\t\t\t\t<text class=\"empty-text\">暂无探店数据</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 探店列表 -->\n\t\t\t<view v-else class=\"review-list\">\n\t\t\t\t<view class=\"review-card\" v-for=\"(review, index) in reviews\" :key=\"review.id || index\" @click=\"viewReviewDetail(review.id)\">\n\t\t\t\t\t<view class=\"review-header\">\n\t\t\t\t\t\t<view class=\"review-user\">\n\t\t\t\t\t\t\t<image :src=\"review.userAvatar || 'https://ykhyyy.oss-cn-beijing.aliyuncs.com/MyApp/userAvatar/default-avatar.png'\" class=\"review-avatar\"></image>\n\t\t\t\t\t\t\t<text class=\"review-username\">{{review.username || '匿名用户'}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"review-time\">{{review.createTime ? new Date(review.createTime).toLocaleString() : '未知时间'}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<text class=\"review-shop-name\">{{review.shopName || '未知店铺'}}</text>\n\t\t\t\t\t<text class=\"review-title\">{{review.title || '无标题'}}</text>\n\t\t\t\t\t<text class=\"review-content\">{{review.content || '无内容'}}</text>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"review-images\" v-if=\"review.images\">\n\t\t\t\t\t\t<image \n\t\t\t\t\t\t\tv-for=\"(img, imgIndex) in review.images.split(',')\" \n\t\t\t\t\t\t\t:key=\"imgIndex\" \n\t\t\t\t\t\t\t:src=\"img\" \n\t\t\t\t\t\t\tmode=\"aspectFill\" \n\t\t\t\t\t\t\tclass=\"review-image\"\n\t\t\t\t\t\t></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"review-rating\">\n\t\t\t\t\t\t<text class=\"rating-score\">{{review.rating || 0}}</text>\n\t\t\t\t\t\t<view class=\"rating-stars\">\n\t\t\t\t\t\t\t<text v-for=\"n in 5\" :key=\"n\" class=\"star\" :class=\"{ active: n <= Math.floor(review.rating || 0) }\">★</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"review-footer\">\n\t\t\t\t\t\t<view class=\"review-action\">\n\t\t\t\t\t\t\t<image src=\"https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg\" class=\"icon-action\"></image>\n\t\t\t\t\t\t\t<text>{{review.views || 0}} 浏览</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"review-action\">\n\t\t\t\t\t\t\t<image src=\"https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg\" class=\"icon-action\"></image>\n\t\t\t\t\t\t\t<text>{{review.comments || 0}} 评论</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"review-action\">\n\t\t\t\t\t\t\t<image src=\"https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg\" class=\"icon-action\"></image>\n\t\t\t\t\t\t\t<text>{{review.likes || 0}} 点赞</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 加载更多 -->\n\t\t\t\t<view v-if=\"hasMore\" class=\"load-more\" @click=\"loadMore\">\n\t\t\t\t\t<text v-if=\"!loading\">加载更多</text>\n\t\t\t\t\t<view v-else class=\"loading-spinner small\"></view>\n\t\t\t\t</view>\n\t\t\t\t<view v-else class=\"no-more\">\n\t\t\t\t\t<text>没有更多内容了</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- AI助手组件 -->\n\t\t<ai-assistant></ai-assistant>\n\t</view>\n</template>\n\n<script>\n\timport AiAssistant from '@/components/AiAssistant.vue';\n\timport CustomNavBar from '@/components/CustomNavBar.vue';\n\timport config from '@/config/index.js';\n\t\n\texport default {\n\t\tcomponents: {\n\t\t\tAiAssistant,\n\t\t\tCustomNavBar\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\tcurrentPage: 1,\n\t\t\t\tpageSize: 10,\n\t\t\t\ttotalItems: 0,\n\t\t\t\treviews: [],\n\t\t\t\tselectedCategory: '全部',\n\t\t\t\tcategories: ['全部', '美食', '咖啡', '甜品', '文创', '书店'],\n\t\t\t\tsearchText: '',\n\t\t\t\t// 仅作为初始化的数据，实际会从API加载\n\t\t\t\tfeaturedShops: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: '1',\n\t\t\t\t\t\tname: '古韵斋茶艺馆',\n\t\t\t\t\t\timage: 'https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg',\n\t\t\t\t\t\trating: 4.8,\n\t\t\t\t\t\tdescription: '传统中国茶文化体验馆，提供正宗茶艺表演和高品质茶叶'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: '2',\n\t\t\t\t\t\tname: '墨香书斋',\n\t\t\t\t\t\timage: 'https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg',\n\t\t\t\t\t\trating: 4.7,\n\t\t\t\t\t\tdescription: '古色古香的独立书店，提供安静的阅读环境和特色文创产品'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: '3',\n\t\t\t\t\t\tname: '竹里馆',\n\t\t\t\t\t\timage: 'https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg',\n\t\t\t\t\t\trating: 4.6,\n\t\t\t\t\t\tdescription: '中式素食餐厅，环境雅致，菜品精美，适合小聚'\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tshops: [] // 这会被API数据替换\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\thasMore() {\n\t\t\t\treturn this.reviews.length < this.totalItems;\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\t// 页面加载时获取数据\n\t\t\tthis.loadShopReviews();\n\t\t},\n\t\tmethods: {\n\t\t\t// 加载探店评论数据\n\t\t\tloadShopReviews(refresh = true) {\n\t\t\t\tif (refresh) {\n\t\t\t\t\tthis.currentPage = 1;\n\t\t\t\t\tthis.reviews = [];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.loading = true;\n\t\t\t\t\n\t\t\t\t// 构建查询参数\n\t\t\t\tconst params = {\n\t\t\t\t\tcurrent: this.currentPage,\n\t\t\t\t\tsize: this.pageSize\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t// 如果选择了特定分类且不是\"全部\"，添加筛选条件\n\t\t\t\tif (this.selectedCategory !== '全部') {\n\t\t\t\t\tparams.category = this.selectedCategory;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 发起API请求\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${config.BaseUrl}/api/shop/review/page`,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tdata: params,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/json'\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('获取探店数据成功:', res.data);\n\t\t\t\t\t\tif (res.data && res.data.code === 1) {\n\t\t\t\t\t\t\tconst data = res.data.data;\n\t\t\t\t\t\t\t// 合并数据\n\t\t\t\t\t\t\tif (refresh) {\n\t\t\t\t\t\t\t\tthis.reviews = data.records || [];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.reviews = [...this.reviews, ...(data.records || [])];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.totalItems = data.total;\n\t\t\t\t\t\t\tthis.currentPage = data.current;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '获取数据失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('请求失败:', err);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '网络请求失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t\t// 停止下拉刷新状态\n\t\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 加载更多数据\n\t\t\tloadMore() {\n\t\t\t\tif (!this.loading && this.hasMore) {\n\t\t\t\t\tthis.currentPage++;\n\t\t\t\t\tthis.loadShopReviews(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 搜索店铺\n\t\t\tsearchShops() {\n\t\t\t\t// 使用搜索文本重新加载数据\n\t\t\t\tthis.loadShopReviews();\n\t\t\t},\n\t\t\t\n\t\t\t// 切换分类\n\t\t\tselectCategory(category) {\n\t\t\t\tthis.selectedCategory = category;\n\t\t\t\t// 切换分类后重新加载数据\n\t\t\t\tthis.loadShopReviews();\n\t\t\t},\n\t\t\t\n\t\t\t// 查看探店详情\n\t\t\tviewShopDetail(id) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/shops/detail/index?id=${id}`\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 查看探店评论详情\n\t\t\tviewReviewDetail(id) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/explore/detail/index?id=${id}`\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\tgoBack() {\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: 1,\n\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t// If there's no page to go back to, navigate to home\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl: '/pages/index/index'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 下拉刷新\n\t\t\tonPullDownRefresh() {\n\t\t\t\tthis.loadShopReviews();\n\t\t\t},\n\t\t\t\n\t\t\t// 上拉加载更多\n\t\t\tonReachBottom() {\n\t\t\t\tthis.loadMore();\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.container {\n\t\tbackground-color: #F8F7F2;\n\t\tmin-height: 100vh;\n\t}\n\t\n\t/* 自定义中国风导航栏 */\n\t.custom-nav {\n\t\tposition: relative;\n\t\theight: 180rpx;\n\t\tpadding-top: var(--status-bar-height);\n\t\toverflow: hidden;\n\t}\n\t\n\t.nav-bg {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tz-index: 1;\n\t}\n\t\n\t.nav-content {\n\t\tposition: relative;\n\t\theight: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tz-index: 2;\n\t}\n\t\n\t.nav-title {\n\t\tfont-family: \"FangSong\", serif;\n\t\tfont-size: 40rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\ttext-shadow: 2rpx 2rpx 4rpx rgba(255, 255, 255, 0.6);\n\t}\n\t\n\t.nav-subtitle {\n\t\tfont-size: 20rpx;\n\t\tcolor: #666;\n\t\tmargin-top: 4rpx;\n\t}\n\t\n\t.header {\n\t\tpadding: 30rpx;\n\t}\n\t\n\t.search-input-wrapper {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbackground: #fff;\n\t\tborder-radius: 30rpx;\n\t\tpadding: 0 20rpx;\n\t\tborder: 1rpx solid #e0c9d1;\n\t}\n\t\n\t.search-icon {\n\t\twidth: 32rpx;\n\t\theight: 32rpx;\n\t\tmargin-right: 10rpx;\n\t}\n\t\n\t.search-input {\n\t\tflex: 1;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tfont-size: 28rpx;\n\t\tpadding: 16rpx 0;\n\t\toutline: none;\n\t}\n\t\n\t.content {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpadding: 100rpx 30rpx;\n\t}\n\t\n\t.placeholder-text {\n\t\tfont-size: 30rpx;\n\t\tcolor: #999;\n\t\ttext-align: center;\n\t}\n\t\n\t.categories {\n\t\tmargin: 0 30rpx 30rpx;\n\t}\n\t\n\t.categories-scroll {\n\t\twhite-space: nowrap;\n\t}\n\t\n\t.category-item {\n\t\tdisplay: inline-block;\n\t\tpadding: 12rpx 30rpx;\n\t\tmargin-right: 15rpx;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 30rpx;\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t\tborder: 1rpx solid #e0e0e0;\n\t}\n\t\n\t.category-item.active {\n\t\tbackground-color: #7EC4CF;\n\t\tcolor: #fff;\n\t\tborder-color: #7EC4CF;\n\t}\n\t\n\t.section {\n\t\tmargin: 0 30rpx 30rpx;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 15rpx;\n\t\tpadding: 30rpx;\n\t\tbox-shadow: 0 4rpx 8rpx rgba(0,0,0,0.05);\n\t\tborder: 1rpx solid #e0c9d1;\n\t}\n\t\n\t.section-header {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t\tpadding-bottom: 20rpx;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t}\n\t\n\t.section-title-decoration {\n\t\twidth: 24rpx;\n\t\theight: 24rpx;\n\t\tmargin: 0 10rpx;\n\t}\n\t\n\t.section-title {\n\t\tfont-family: \"FangSong\", serif;\n\t\tfont-size: 32rpx;\n\t\tcolor: #333;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.featured-shops {\n\t\tmargin: 0 -30rpx;\n\t}\n\t\n\t.featured-scroll {\n\t\tpadding: 0 30rpx;\n\t}\n\t\n\t.featured-shop-card {\n\t\tdisplay: inline-block;\n\t\twidth: 500rpx;\n\t\tmargin-right: 20rpx;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 15rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 4rpx 8rpx rgba(0,0,0,0.1);\n\t\tborder: 1rpx solid #e0c9d1;\n\t}\n\t\n\t.featured-shop-image {\n\t\twidth: 100%;\n\t\theight: 280rpx;\n\t}\n\t\n\t.featured-shop-info {\n\t\tpadding: 20rpx;\n\t}\n\t\n\t.featured-shop-name {\n\t\tfont-size: 30rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tmargin-bottom: 10rpx;\n\t\tfont-family: \"FangSong\", serif;\n\t}\n\t\n\t.featured-shop-rating {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 10rpx;\n\t}\n\t\n\t.featured-shop-desc {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666;\n\t\tline-height: 1.5;\n\t}\n\t\n\t/* 探店列表样式 */\n\t.review-list {\n\t\tmargin-top: 20rpx;\n\t}\n\t\n\t.review-card {\n\t\tbackground-color: #fff;\n\t\tborder-radius: 10rpx;\n\t\tpadding: 20rpx;\n\t\tmargin-bottom: 20rpx;\n\t\tbox-shadow: 0 2rpx 6rpx rgba(0,0,0,0.05);\n\t\tborder: 1rpx solid #f0f0f0;\n\t}\n\t\n\t.review-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 15rpx;\n\t}\n\t\n\t.review-user {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t\n\t.review-avatar {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tborder-radius: 30rpx;\n\t\tmargin-right: 10rpx;\n\t}\n\t\n\t.review-username {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\t\n\t.review-time {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\t\n\t.review-shop-name {\n\t\tfont-size: 28rpx;\n\t\tcolor: #7EC4CF;\n\t\tmargin-bottom: 10rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.review-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tmargin-bottom: 10rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.review-content {\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t\tline-height: 1.6;\n\t\tmargin-bottom: 15rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.review-images {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 10rpx;\n\t\tmargin-bottom: 15rpx;\n\t}\n\t\n\t.review-image {\n\t\twidth: 200rpx;\n\t\theight: 200rpx;\n\t\tborder-radius: 8rpx;\n\t}\n\t\n\t.review-rating {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 15rpx;\n\t}\n\t\n\t.review-footer {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tborder-top: 1rpx solid #f0f0f0;\n\t\tpadding-top: 15rpx;\n\t}\n\t\n\t.review-action {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t\n\t.icon-action {\n\t\twidth: 28rpx;\n\t\theight: 28rpx;\n\t\tmargin-right: 6rpx;\n\t}\n\t\n\t/* 加载状态 */\n\t.loading-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 40rpx 0;\n\t}\n\t\n\t.loading-spinner {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tborder: 6rpx solid #f3f3f3;\n\t\tborder-top: 6rpx solid #7EC4CF;\n\t\tborder-radius: 50%;\n\t\tanimation: spin 1s linear infinite;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.loading-spinner.small {\n\t\twidth: 40rpx;\n\t\theight: 40rpx;\n\t\tborder-width: 4rpx;\n\t}\n\t\n\t@keyframes spin {\n\t\t0% { transform: rotate(0deg); }\n\t\t100% { transform: rotate(360deg); }\n\t}\n\t\n\t.loading-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999;\n\t}\n\t\n\t.empty-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 60rpx 0;\n\t}\n\t\n\t.empty-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999;\n\t}\n\t\n\t.load-more, .no-more {\n\t\ttext-align: center;\n\t\tpadding: 20rpx 0;\n\t\tfont-size: 26rpx;\n\t\tcolor: #999;\n\t}\n\t\n\t.shop-list {\n\t\tmargin-top: 20rpx;\n\t}\n\t\n\t.shop-card {\n\t\tdisplay: flex;\n\t\tmargin-bottom: 20rpx;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 10rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 2rpx 6rpx rgba(0,0,0,0.05);\n\t\tborder: 1rpx solid #f0f0f0;\n\t}\n\t\n\t.shop-image {\n\t\twidth: 200rpx;\n\t\theight: 200rpx;\n\t}\n\t\n\t.shop-info {\n\t\tflex: 1;\n\t\tpadding: 15rpx;\n\t}\n\t\n\t.shop-header-row {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 10rpx;\n\t}\n\t\n\t.shop-name {\n\t\tfont-size: 30rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tfont-family: \"FangSong\", serif;\n\t}\n\t\n\t.shop-badges {\n\t\tdisplay: flex;\n\t}\n\t\n\t.shop-badge {\n\t\tfont-size: 20rpx;\n\t\tpadding: 2rpx 8rpx;\n\t\tborder-radius: 4rpx;\n\t\tmargin-left: 10rpx;\n\t}\n\t\n\t.shop-badge.official {\n\t\tbackground-color: rgba(126, 196, 207, 0.1);\n\t\tcolor: #7EC4CF;\n\t\tborder: 1rpx solid #7EC4CF;\n\t}\n\t\n\t.shop-badge.new {\n\t\tbackground-color: rgba(138, 51, 36, 0.1);\n\t\tcolor: #8A3324;\n\t\tborder: 1rpx solid #8A3324;\n\t}\n\t\n\t.shop-rating-row {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 10rpx;\n\t}\n\t\n\t.rating-score {\n\t\tfont-size: 26rpx;\n\t\tcolor: #FF9500;\n\t\tfont-weight: bold;\n\t\tmargin-right: 8rpx;\n\t}\n\t\n\t.rating-stars {\n\t\tdisplay: flex;\n\t\tmargin-right: 8rpx;\n\t}\n\t\n\t.star {\n\t\tcolor: #DDDDDD;\n\t\tfont-size: 24rpx;\n\t}\n\t\n\t.star.active {\n\t\tcolor: #FF9500;\n\t}\n\t\n\t.rating-count {\n\t\tfont-size: 22rpx;\n\t\tcolor: #999;\n\t}\n\t\n\t.shop-tags {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tmargin-bottom: 10rpx;\n\t}\n\t\n\t.shop-tag {\n\t\tfont-size: 22rpx;\n\t\tcolor: #666;\n\t\tbackground-color: #f8f8f8;\n\t\tpadding: 4rpx 12rpx;\n\t\tborder-radius: 4rpx;\n\t\tmargin-right: 10rpx;\n\t\tmargin-bottom: 6rpx;\n\t}\n\t\n\t.shop-location {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tfont-size: 22rpx;\n\t\tcolor: #999;\n\t}\n\t\n\t.location-icon {\n\t\twidth: 24rpx;\n\t\theight: 24rpx;\n\t\tmargin-right: 6rpx;\n\t}\n\t\n\t.distance {\n\t\tmargin-left: auto;\n\t}\n\t\n\t.back-button {\n\t\tposition: fixed;\n\t\ttop: calc(var(--status-bar-height) + 50rpx);\n\t\tleft: 30rpx;\n\t\tz-index: 1000;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbackground-color: rgba(255, 255, 255, 0.8);\n\t\tpadding: 10rpx 20rpx;\n\t\tborder-radius: 30rpx;\n\t\tbox-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.1);\n\t\tborder: 1rpx solid #e0c9d1;\n\t}\n\t\n\t.back-arrow {\n\t\tfont-size: 40rpx;\n\t\tcolor: #8A3324;\n\t\tfont-weight: bold;\n\t\tmargin-right: 10rpx;\n\t}\n\t\n\t.back-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tfont-family: \"FangSong\", serif;\n\t}\n</style> ","import mod from \"-!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1749276634059\n      var cssReload = require(\"C:/App/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
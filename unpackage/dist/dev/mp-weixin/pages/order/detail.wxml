<view class="container"><custom-nav-bar vue-id="a2b0478a-1" title="订单详情" show-back="{{true}}" bind:__l="__l"></custom-nav-bar><block wx:if="{{isLoading||loading}}"><view class="loading-container"><view class="loading-spinner"></view><text class="loading-text">加载订单详情中...</text></view></block><block wx:else><block wx:if="{{!orderInfo}}"><view class="empty-container"><image class="empty-icon" src="/static/images/empty-order.png" mode="aspectFit"></image><text class="empty-title">未找到订单信息</text><view class="empty-desc">{{"订单ID: "+id}}</view><button data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="primary-btn" bindtap="__e">返回</button></view></block><block wx:else><block><scroll-view class="order-scroll" scroll-y="{{true}}"><view class="status-card"><view class="{{$root.m0}}"><text class="status-emoji">{{$root.m1}}</text></view><view class="status-info"><text class="status-text">{{$root.m2}}</text><text class="status-desc">{{$root.m3}}</text></view></view><view class="order-card"><view class="section-title">订单信息</view><view class="info-row"><text class="info-label">订单编号</text><view class="info-value-copy"><text class="info-value">{{orderInfo.id}}</text><text data-event-opts="{{[['tap',[['copyOrderId',['$event']]]]]}}" class="copy-btn" bindtap="__e">复制</text></view></view><view class="info-row"><text class="info-label">下单时间</text><text class="info-value">{{$root.m4}}</text></view><block wx:if="{{orderInfo.payTime}}"><view class="info-row"><text class="info-label">支付时间</text><text class="info-value">{{$root.m5}}</text></view></block><block wx:if="{{orderInfo.cancelTime}}"><view class="info-row"><text class="info-label">取消时间</text><text class="info-value">{{$root.m6}}</text></view></block><view class="info-row"><text class="info-label">支付方式</text><text class="info-value">微信支付</text></view></view><view class="order-card"><view class="section-title">商品信息</view><view class="product-list"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="product-item"><image class="product-image" src="{{item.m7}}" mode="aspectFill"></image><view class="product-info"><text class="product-name">{{item.$orig.productName}}</text><view class="product-price-row"><text class="product-price">{{"¥"+item.$orig.price}}</text><text class="product-quantity">{{"x"+item.$orig.quantity}}</text></view></view></view></block></view><view class="price-summary"><view class="price-row"><text>商品总额</text><text>{{"¥"+orderInfo.totalAmount}}</text></view><block wx:if="{{orderInfo.totalAmount!==orderInfo.payAmount}}"><view class="price-row"><text>优惠金额</text><text class="discount-price">{{"-¥"+(orderInfo.totalAmount-orderInfo.payAmount)}}</text></view></block><view class="price-row total"><text>实付金额</text><text class="total-price">{{"¥"+orderInfo.payAmount}}</text></view></view></view><block wx:if="{{orderInfo.address||orderInfo.phone}}"><view class="order-card"><view class="section-title">收货信息</view><block wx:if="{{orderInfo.address}}"><view class="info-row"><text class="info-label">收货地址</text><text class="info-value address">{{orderInfo.address}}</text></view></block><block wx:if="{{orderInfo.phone}}"><view class="info-row"><text class="info-label">联系电话</text><text class="info-value">{{orderInfo.phone}}</text></view></block></view></block><view class="order-card"><view class="section-title">店铺信息</view><view class="info-row"><text class="info-label">店铺ID</text><text class="info-value">{{orderInfo.shopId}}</text></view><button data-event-opts="{{[['tap',[['goToShop',['$event']]]]]}}" class="shop-btn" bindtap="__e">查看店铺</button></view></scroll-view><block wx:if="{{orderInfo.status!==3}}"><view class="bottom-actions"><block wx:if="{{orderInfo.status===0}}"><button data-event-opts="{{[['tap',[['cancelOrder',['$event']]]]]}}" class="action-btn cancel" bindtap="__e">取消订单</button></block><block wx:if="{{orderInfo.status===0}}"><button data-event-opts="{{[['tap',[['payOrder',['$event']]]]]}}" class="action-btn primary" bindtap="__e">立即支付</button></block><block wx:if="{{orderInfo.status===1}}"><button data-event-opts="{{[['tap',[['completeOrder',['$event']]]]]}}" class="action-btn primary" bindtap="__e">确认收货</button></block></view></block></block></block></block></view>
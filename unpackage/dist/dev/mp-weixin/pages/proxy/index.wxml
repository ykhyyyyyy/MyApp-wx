<view class="container"><custom-nav-bar vue-id="891c3704-1" title="代取任务" subtitle="代取服务" show-back="{{false}}" bind:__l="__l"></custom-nav-bar><view class="header"><view class="search-box"><view class="search-input-wrapper"><image class="search-icon" src="https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg"></image><input class="search-input" type="text" placeholder="搜索任务" data-event-opts="{{[['confirm',[['searchTasks',['$event']]]],['input',[['__set_model',['','searchText','$event',[]]]]]]}}" value="{{searchText}}" bindconfirm="__e" bindinput="__e"/></view></view><view class="header-actions"><button data-event-opts="{{[['tap',[['goToCreate',['$event']]]]]}}" class="publish-btn" bindtap="__e">发布新任务</button></view></view><view class="task-types"><block wx:for="{{taskTypes}}" wx:for-item="type" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectType',['$0'],[[['taskTypes','',index,'value']]]]]]]}}" class="{{['task-type-item',(selectedType===type.value)?'active':'']}}" bindtap="__e"><text class="task-type-text">{{type.label}}</text></view></block></view><block wx:if="{{$root.g0}}"><view class="loading-container"><view class="loading-spinner"></view><text class="loading-text">加载中...</text></view></block><block wx:else><block wx:if="{{$root.g1===0}}"><view class="empty-container"><text class="empty-text">暂无任务</text></view></block><block wx:else><scroll-view class="task-list" scroll-y="{{true}}" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]]]}}" bindscrolltolower="__e"><block wx:for="{{$root.l0}}" wx:for-item="task" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['goToDetail',['$0'],[[['tasks','id',task.$orig.id,'id']]]]]]]}}" class="task-item" bindtap="__e"><view class="task-header"><view class="{{task.m0}}">{{task.m1}}</view><view class="task-price">悬赏:<text class="price-amount">{{"¥"+task.$orig.price}}</text></view></view><view class="task-route"><view class="task-pickup"><text class="location-icon pickup">取</text><text class="location-text">{{task.$orig.pickupAddress}}</text></view><view class="route-arrow">↓</view><view class="task-delivery"><text class="location-icon delivery">送</text><text class="location-text">{{task.$orig.deliveryAddress}}</text></view></view><view class="task-footer"><text class="task-publisher">{{"发布者: "+(task.$orig.publisherName||'匿名用户')}}</text><text class="task-time">{{task.m2}}</text></view></view></block><block wx:if="{{hasMore}}"><view data-event-opts="{{[['tap',[['loadMore',['$event']]]]]}}" class="load-more" bindtap="__e"><block wx:if="{{!isLoading}}"><text>加载更多</text></block><block wx:else><view class="loading-spinner small"></view></block></view></block><block wx:else><view class="no-more"><text>没有更多任务了</text></view></block></scroll-view></block></block><ai-assistant vue-id="891c3704-2" bind:__l="__l"></ai-assistant></view>
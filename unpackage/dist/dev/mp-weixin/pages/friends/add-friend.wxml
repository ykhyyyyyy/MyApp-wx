<view class="container"><custom-nav-bar vue-id="f1bd772e-1" title="添加好友" show-back="{{true}}" bind:__l="__l"></custom-nav-bar><view class="search-section"><view class="search-box"><view class="search-input-wrapper"><image class="search-icon" src="/static/icons/search.png"></image><input class="search-input" type="text" placeholder="输入用户ID或昵称搜索" data-event-opts="{{[['confirm',[['searchUser',['$event']]]],['input',[['__set_model',['','searchKeyword','$event',[]]]]]]}}" value="{{searchKeyword}}" bindconfirm="__e" bindinput="__e"/></view><button data-event-opts="{{[['tap',[['searchUser',['$event']]]]]}}" class="search-button" bindtap="__e">搜索</button></view><text class="search-tip">提示：您可以通过用户ID或昵称查找好友</text></view><block wx:if="{{searchResult}}"><view class="search-result"><view class="user-card"><image class="user-avatar" src="{{searchResult.avatar||defaultAvatar}}"></image><view class="user-info"><text class="user-name">{{searchResult.name}}</text><text class="user-id">{{"ID: "+searchResult.id}}</text><text class="user-signature">{{searchResult.signature||'这个人很懒，什么都没写'}}</text></view><view class="action-buttons"><button class="add-button" disabled="{{isFriend||isAdding}}" data-event-opts="{{[['tap',[['addFriend',['$event']]]]]}}" bindtap="__e"><block wx:if="{{isFriend}}"><text>已是好友</text></block><block wx:else><block wx:if="{{isAdding}}"><text>添加中...</text></block><block wx:else><text>添加好友</text></block></block></button></view></view></view></block><block wx:if="{{$root.g0>0}}"><view class="maybe-know-section"><view class="section-header"><image class="section-title-decoration" src="/static/decoration/title-left.png" mode="aspectFit"></image><text class="section-title">可能认识的人</text><image class="section-title-decoration" src="/static/decoration/title-right.png" mode="aspectFit"></image></view><view class="maybe-know-list"><block wx:for="{{maybeKnowList}}" wx:for-item="user" wx:for-index="index" wx:key="index"><view class="maybe-know-item"><image class="maybe-avatar" src="{{user.avatar||defaultAvatar}}"></image><view class="maybe-info"><text class="maybe-name">{{user.name}}</text><block wx:if="{{user.commonFriends}}"><text class="maybe-common">{{user.commonFriends+"个共同好友"}}</text></block></view><button data-event-opts="{{[['tap',[['addFriendById',['$0'],[[['maybeKnowList','',index,'id']]]]]]]}}" class="maybe-add-btn" bindtap="__e">添加</button></view></block></view></view></block><view class="footer-decoration"><image class="footer-image" src="/static/decoration/footer-pattern.png" mode="aspectFit"></image></view></view>
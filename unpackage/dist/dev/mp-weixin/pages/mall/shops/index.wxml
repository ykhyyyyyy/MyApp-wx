<view class="container"><custom-nav-bar vue-id="3300f9c8-1" title="店铺浏览" subtitle="查看所有店铺" show-back="{{true}}" bind:__l="__l"></custom-nav-bar><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-button" bindtap="__e"><text class="back-arrow">←</text><text class="back-text">返回</text></view><view class="header"><view class="search-box"><view class="search-input-wrapper"><image class="search-icon" src="https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg"></image><input class="search-input" type="text" placeholder="搜索店铺" data-event-opts="{{[['confirm',[['searchShops',['$event']]]],['input',[['__set_model',['','searchText','$event',[]]]]]]}}" value="{{searchText}}" bindconfirm="__e" bindinput="__e"/></view></view></view><view class="categories"><block wx:for="{{categories}}" wx:for-item="category" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectCategory',['$0'],[[['categories','',index,'id']]]]]]]}}" class="{{['category-item',(selectedCategoryId===category.id)?'active':'']}}" bindtap="__e"><text class="category-text">{{category.name}}</text></view></block></view><block wx:if="{{$root.g0}}"><view class="loading-container"><view class="loading-spinner"></view><text class="loading-text">加载中...</text></view></block><block wx:else><block wx:if="{{$root.g1===0}}"><view class="empty-container"><text class="empty-text">暂无店铺</text></view></block><block wx:else><scroll-view class="shop-list" scroll-y="{{true}}" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]]]}}" bindscrolltolower="__e"><block wx:for="{{$root.l0}}" wx:for-item="shop" wx:for-index="index"><view data-event-opts="{{[['tap',[['viewShopDetail',['$0',index],[[['shops','id||index',shop.$orig.id||index]]]]]]]}}" class="shop-card" bindtap="__e"><image class="shop-image" src="{{shop.$orig.avatar||shop.$orig.logo||'https://ykhyyy.oss-cn-beijing.aliyuncs.com/ht.jpg'}}" mode="aspectFill" data-event-opts="{{[['tap',[['directNavigate',['$0'],[[['shops','id||index',shop.$orig.id||index,'id']]]]]]]}}" catchtap="__e"></image><view class="shop-info"><view class="shop-header"><text data-event-opts="{{[['tap',[['directNavigate',['$0'],[[['shops','id||index',shop.$orig.id||index,'id']]]]]]]}}" class="shop-name" catchtap="__e">{{shop.$orig.name||'未命名店铺'}}</text><view class="shop-badges"><block wx:if="{{shop.$orig.isOfficial}}"><text class="shop-badge official">官方</text></block><block wx:if="{{shop.$orig.isNew}}"><text class="shop-badge new">新店</text></block></view></view><view class="shop-description"><text class="description-text">{{shop.$orig.description||'暂无描述'}}</text></view><view class="shop-footer"><view class="shop-rating"><text class="rating-score">{{shop.$orig.rating||'5.0'}}</text><view class="rating-stars"><block wx:for="{{5}}" wx:for-item="n" wx:for-index="__i0__" wx:key="*this"><text class="{{['star',(n<=shop.g2)?'active':'']}}">★</text></block></view><text class="rating-count">{{(shop.$orig.ratingCount||0)+"条评价"}}</text></view><text data-event-opts="{{[['tap',[['directNavigate',['$0'],[[['shops','id||index',shop.$orig.id||index,'id']]]]]]]}}" class="shop-enter" catchtap="__e">进店 ></text></view></view></view></block><block wx:if="{{hasMore}}"><view data-event-opts="{{[['tap',[['loadMore',['$event']]]]]}}" class="load-more" bindtap="__e"><block wx:if="{{!loadingMore}}"><text>加载更多</text></block><block wx:else><view class="loading-spinner small"></view></block></view></block><block wx:else><view class="no-more"><text>没有更多店铺了</text></view></block></scroll-view></block></block><ai-assistant vue-id="3300f9c8-2" bind:__l="__l"></ai-assistant></view>